# Документация проекта

Этот документ содержит обзор ключевых файлов и их функциональности в проекте graph_back.

## Файл: `app_flask.py`

Этот файл содержит Flask-приложение, которое служит бэкендом проекта. Он предоставляет конечные точки API для взаимодействия с функциями парсинга кода и генерации диаграмм Mermaid.

Основные конечные точки:

*   `/structure` (POST): Извлекает структуру кода (функции, классы и т.д.) из заданного файла.
*   `/mermaid` (POST): Генерирует диаграмму Mermaid для целевого файла, используя соответствующий скрипт для конкретного языка.

## Файл: `ingestion.py`

Этот файл содержит основную логику парсинга кода для различных языков программирования. Он использует различные библиотеки (такие как `ast`, `esprima`, `javalang`, `clang`) для парсинга исходного кода и извлечения информации о функциях, классах, методах и структурах.

Поддерживаемые языки и парсеры:

*   Python (`parse_python`)
*   JavaScript/TypeScript (`parse_javascript`)
*   Java (`parse_java`)
*   C/C++ (`parse_c_cpp`)

## Файл: `mermaid_python.py`

Этот скрипт специально разработан для генерации диаграмм Mermaid для кода на Python. Он парсит файл Python для идентификации функций и классов, а затем ищет упоминания этих элементов в других файлах проекта для построения графа зависимостей.

## Файл: `mermaid_js.py`

Этот скрипт генерирует диаграммы Mermaid для кода на JavaScript и TypeScript. Он использует функцию `parse_javascript` из `ingestion.py` для извлечения элементов кода, а затем находит упоминания в других файлах для создания графа зависимостей.

## Файл: `mermaid_ts.py`

(Примечание: `mermaid_js.py` обрабатывает как JavaScript, так и TypeScript. Эта запись служит для справки, что TypeScript покрывается генератором для JavaScript.)

Этот файл, вероятно, служит заполнителем или не используется активно, поскольку `mermaid_js.py` обрабатывает TypeScript. Функциональность для TypeScript интегрирована в `mermaid_js.py`.

## Файл: `mermaid_cpp.py`

Этот скрипт генерирует диаграммы Mermaid для кода на C и C++. Он использует функцию `parse_c_cpp` из `ingestion.py` для извлечения элементов кода (функций, методов, классов, структур), а затем идентифицирует упоминания в других файлах для построения графа зависимостей.

## Файл: `mermaid_java.py`

Этот скрипт генерирует диаграммы Mermaid для кода на Java. Он использует функцию `parse_java` из `ingestion.py` для извлечения классов и методов, а затем находит упоминания в других файлах для создания графа зависимостей.

## Файл: `structure_extractor.py`

Этот файл отвечает за построение иерархического представления структуры кода в заданном каталоге и языке. Вероятно, он использует парсеры из `ingestion.py` для сбора информации, а затем организует ее в древовидную структуру.